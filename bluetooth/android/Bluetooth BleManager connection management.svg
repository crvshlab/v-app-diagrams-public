<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="305px" preserveAspectRatio="none" style="width:556px;height:305px;background:#FFFFFF;" version="1.1" viewBox="0 0 556 305" width="556px" zoomAndPan="magnify"><defs><filter height="300%" id="f16dhkwc0rfzbl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f16dhkwc0rfzbl)" height="202.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="71.5" y="50.2969"/><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="101.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="283.5" y="71.4297"/><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="35.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="283.5" y="201.8281"/><rect fill="#FFFFFF" filter="url(#f16dhkwc0rfzbl)" height="110.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487.5" y="142.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="76" x2="76" y1="40.2969" y2="261.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="288.5" x2="288.5" y1="40.2969" y2="261.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="492.5" x2="492.5" y1="40.2969" y2="261.9609"/><rect fill="#FEFECE" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="139" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="12" y="24.9951">BleAndroidService</text><rect fill="#FEFECE" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="139" x="5" y="260.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="12" y="280.9561">BleAndroidService</text><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="238.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="245.5" y="24.9951">BleManager</text><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="238.5" y="260.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="245.5" y="280.9561">BleManager</text><rect fill="#FEFECE" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="438.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="445.5" y="24.9951">PairedDevice</text><rect fill="#FEFECE" filter="url(#f16dhkwc0rfzbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="104" x="438.5" y="260.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="445.5" y="280.9561">PairedDevice</text><rect fill="#FFFFFF" filter="url(#f16dhkwc0rfzbl)" height="202.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="71.5" y="50.2969"/><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="101.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="283.5" y="71.4297"/><rect fill="#F08080" filter="url(#f16dhkwc0rfzbl)" height="35.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="283.5" y="201.8281"/><rect fill="#FFFFFF" filter="url(#f16dhkwc0rfzbl)" height="110.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="487.5" y="142.6953"/><polygon fill="#A80036" points="271.5,67.4297,281.5,71.4297,271.5,75.4297,275.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81.5" x2="277.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="88.5" y="66.3638">maintainConnections()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="335.5" y1="100.5625" y2="100.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335.5" x2="335.5" y1="100.5625" y2="113.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="294.5" x2="335.5" y1="113.5625" y2="113.5625"/><polygon fill="#A80036" points="304.5,109.5625,294.5,113.5625,304.5,117.5625,300.5,113.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="300.5" y="95.4966">scanAndReconnect()</text><ellipse cx="487" cy="141.9453" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="470,138.6953,480,142.6953,470,146.6953,474,142.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="293.5" x2="476" y1="142.6953" y2="142.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="300.5" y="137.6294">connect</text><polygon fill="#A80036" points="271.5,197.8281,281.5,201.8281,271.5,205.8281,275.5,201.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81.5" x2="277.5" y1="201.8281" y2="201.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="88.5" y="196.7622">maintainConnections() +30s</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="335.5" y1="235.9609" y2="235.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335.5" x2="335.5" y1="235.9609" y2="248.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288.5" x2="335.5" y1="248.9609" y2="248.9609"/><polygon fill="#A80036" points="298.5,244.9609,288.5,248.9609,298.5,252.9609,294.5,248.9609" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="300.5" y="230.895">scanAndReconnect() for 15s</text><!--MD5=[b573fd8c9b9ec122772331ef0e000ac2]
@startuml Bluetooth BleManager connection management

participant BleAndroidService
participant BleManager #LightCoral
participant PairedDevice

activate BleAndroidService
BleAndroidService -> BleManager: maintainConnections()
activate BleManager #LightCoral
BleManager - -> BleManager: scanAndReconnect()
BleManager ->o PairedDevice: connect 
activate PairedDevice

deactivate BleManager

BleAndroidService -> BleManager: maintainConnections() +30s
activate BleManager #LightCoral
BleManager - -> BleManager: scanAndReconnect() for 15s
deactivate BleManager

@enduml

PlantUML version 1.2021.11(Sat Oct 02 13:26:11 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>